# Suggestion 2.1: Extract Constants to Top of Script

**Status:** ACCEPTED

**Original Location:** ralph.sh

**Rationale:** Significantly improves maintainability by centralizing configuration. Reduces typos from magic strings and makes configuration changes easier. This is a simple refactoring that doesn't change behavior, only improves code quality.

**Original Content:**

### 2.1 Extract Constants to Top of Script
**Location:** ralph.sh

**Issue:** Magic strings and values scattered throughout script.

**Recommendation:**
```bash
# Add at top after shebang
RALPH_VERSION="1.0.0"
PROMISE_TOKEN="<promise>COMPLETE</promise>"
DEFAULT_TURNS=50
DEFAULT_MODEL="opencode/glm-4.7-free"
DEFAULT_SPEC="prompt.md"
DEFAULT_LOG=".ralph.log"
DEFAULT_TIMEOUT=300
MIN_TIMEOUT=10
MAX_TIMEOUT=3600
MIN_TURNS=1
MAX_TURNS=1000
MAX_SPEC_SIZE=1048576

# Replace magic strings with constants throughout
# Example: line 68-69
INSTRUCTION="Turn $i. Follow $SPEC exactly."
[[ "$YOLO_MODE" == "true" ]] && INSTRUCTION="$INSTRUCTION If no specific task provided, auto-plan and create new tasks as needed."

# Example: line 83
(grep -q "$PROMISE_TOKEN" "$LOG" 2>/dev/null || grep -q "$PROMISE_TOKEN" "$JSONL" 2>/dev/null) && exit 0
```

**Rationale:** Improves maintainability, reduces typos, makes configuration changes easier.
